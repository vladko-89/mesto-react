{"version":3,"sources":["image/logo.svg","components/Header.js","image/Vector.svg","image/vectorAva.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwner","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","link","type","aria-label","onCardDelete","name","onCardLike","length","key","Main","onEditAvatar","icon","avatar","onEditProfile","editProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","noValidate","action","method","onSubmit","title","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","required","placeholder","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarLink","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","el","api","this","_base","_token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","data","body","JSON","stringify","cardID","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","newData","editUserInfo","addNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3a1ef6a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../image/logo.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип Mesto Russia\" className=\"logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/Vector.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/vectorAva.a086f758.svg\";","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwner = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `card__delete ${isOwner ? \"\" : \"card__delete_hidden\"}`;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `card__like ${isLiked ? \"card__like_active\" : \"\"}`\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards__item\" key={props.key}>\r\n      <article className=\"card\">\r\n        <img onClick={handleClick} src={props.card.link} className=\"card__image\" alt=\"Изображение карточки\" />\r\n        <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Кнопка удалить\"\r\n          onClick={handleDeleteClick}></button>\r\n        <div className=\"card__container\">\r\n          <h2 className=\"card__title\">{props.card.name} </h2>\r\n          <div className=\"card__likes-container\">\r\n            <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Кнопка like\" onClick={handleLikeClick} />\r\n            <p className=\"card__likes-counter\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport editProfile from '../image/Vector.svg';\r\nimport icon from '../image/vectorAva.svg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"main-index\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__flex-wrapper\">\r\n          <div className=\"profile__avatar-container\" onClick={props.onEditAvatar}>\r\n            <div className=\"profile__avatar-vector\">\r\n              <img src={icon} alt=\"Иконка\" />\r\n            </div>\r\n            <img src={currentUser.avatar} alt=\"Аватар пользователя\" className=\"profile__avatar\" />\r\n          </div>\r\n          <div>\r\n            <div className=\"profile__info\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button className=\"profile__button-edit\" type=\"button\" aria-label=\"Редактировать профиль\" onClick={props.onEditProfile}>\r\n                <img src={editProfile} alt=\"Иконка\" className=\"profile__vector\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__specialization\">{currentUser.about} </p>\r\n          </div>\r\n        </div>\r\n        <button className=\"profile__button-new-card\" type=\"button\" aria-label=\"Добавить новую карточку\" onClick={props.onAddPlace} />\r\n      </section>\r\n      <section className=\"grid-container\" aria-label=\"Блок с карточками\">\r\n        <ul className=\"cards\">\r\n          {props.cards.map((card) => (\r\n            <Card key={card['_id']}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />)\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_show' : false}`}>\r\n      <div className={`popup__body popup__body_modal_${props.name} ${props.isOpen ? 'popup__body_slice' : false}`}>\r\n        <form className=\"popup__profile form form_closed\" noValidate action=\"http://echo.htmlacademy.ru\" method=\"post\"\r\n          name={`${props.name}-form`}\r\n          onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__button-submit\">{props.buttonText}</button>\r\n        </form>\r\n        <button onClick={props.onClose} type=\"button\" className={`popup__button-close popup__button-close_modal_${props.name}`}\r\n          aria-label=\"кнопка Закрыть\" />\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      className=\"popup popup_type_profile\"\r\n      name=\"profile\" title=\"Редактировать профиль\"\r\n      buttonText=\"Сохранить\"\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_name\"\r\n            id=\"input_name\"\r\n            type=\"text\"\r\n            name=\"user\" required\r\n            placeholder=\"Ваше имя\" minLength=\"2\" maxLength=\"40\"\r\n            value={name} onChange={handleChangeName} />\r\n          <span className=\"popup__error\" id=\"input_name-error\"></span>\r\n        </li>\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_specialization\"\r\n            type=\"text\" name=\"specialization\"\r\n            id=\"input_pass\" required placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\"\r\n            value={description} onChange={handleChangeDescription} />\r\n          <span className=\"popup__error\" id=\"input_pass-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarLink = React.useRef();\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarLink.current.value,\r\n    });\r\n    avatarLink.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm className=\"popup popup_type_avatar\"\r\n      name=\"avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonText=\"Сохранить\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_path\" type=\"url\" id=\"input_avatar\" name=\"link\" required\r\n            placeholder=\"Ссылка аватара\"\r\n            ref={avatarLink} />\r\n          <span className=\"popup__error\" id=\"input_avatar-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm className=\"popup popup_type_new-card\"\r\n      name=\"new-card\"\r\n      title=\"Новое место\"\r\n      buttonText=\"Создать\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}>\r\n\r\n      <ul className=\"popup__list\">\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_title\" type=\"text\" name=\"name\" id=\"input_title\" required\r\n            placeholder=\"Название\" minLength=\"2\" maxLength=\"30\"\r\n            value={name} onChange={handleChangeName} />\r\n          <span className=\"popup__error\" id=\"input_title-error\">ERROR</span>\r\n        </li>\r\n        <li className=\"popup__item\">\r\n          <input className=\"popup__input popup__input_item_path\" type=\"url\" id=\"input_link\" name=\"link\" required\r\n            placeholder=\"Ссылка на картинку\"\r\n            value={link} onChange={handleChangeLink} />\r\n          <span className=\"popup__error\" id=\"input_link-error\"></span>\r\n        </li>\r\n      </ul>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card.isOpen ? 'popup_show' : false}`}>\r\n      <div className={`popup__body popup__body_modal_image ${props.card.isOpen ? 'popup__body_slice' : false}`}>\r\n        <figure className=\"popup__image\">\r\n          <img src={`${props.card.isOpen ? props.card.el.link : '#'}`} alt=\"Большое изображение карточки\" className=\"popup__card-image\" />\r\n          <figcaption className=\"popup__sign\">{`${props.card.isOpen ? props.card.el.name : ''}`}</figcaption>\r\n        </figure>\r\n        <button onClick={props.onClose} type=\"button\" className=\"popup__button-close popup__button-close_modal_image\"\r\n          aria-label=\"кнопка Закрыть\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n  constructor() {\r\n    this._base = 'https://mesto.nomoreparties.co/v1/cohort-19/';\r\n    this._token = '11f304a7-0c18-4e6f-ac0a-f5def34dbfe2';\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._base}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._base}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(`${this._base}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      })\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._base}cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  addNewCard(data) {\r\n    return fetch(`${this._base}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  deleteCard(cardID) {\r\n    return fetch(`${this._base}cards/${cardID}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  putLike(cardID) {\r\n    return fetch(`${this._base}cards/likes/${cardID}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        else {\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n      })\r\n  }\r\n\r\n  deleteLike(cardID, status) {\r\n    if (status) {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          else {\r\n            return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, status) {\r\n    if (status) {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          else {\r\n            return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n          }\r\n        })\r\n    }\r\n    else {\r\n      return fetch(`${this._base}cards/likes/${cardID}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          authorization: this._token,\r\n          'Content-type': 'application/json'\r\n        }\r\n      })\r\n        .then((res) => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          else {\r\n            return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  //Получили данные пользователя\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  //Получили карточки\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  //Ставим/снимаем лайки\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    console.log(card);\r\n    api.deleteCard(card._id).then((res) => {\r\n      const newCards = cards.filter((newCard) => {\r\n        return card._id !== newCard._id;\r\n      })\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ ...selectedCard, isOpen: true, el: card });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  //Закрываем модальные окна\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  //Обновили данные пользователя\r\n  function handleUpdateUser(newData) {\r\n    api.editUserInfo(newData)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  //Изменили аватар\r\n  function handleUpdateAvatar(link) {\r\n    api.updateAvatar(link.avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  // Добавили карточку\r\n  function handleAddCard(data) {\r\n    api.addNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"container\">\r\n          <Header />\r\n          <Main onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete} />\r\n\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser} />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddCard} />\r\n\r\n          <PopupWithForm className=\"popup popup_type_card-delete\"\r\n            name=\"card-delete\"\r\n            title=\"Вы уверены?\"\r\n            buttonText=\"Да\" />\r\n\r\n          <ImagePopup card={selectedCard}\r\n            onClose={closeAllPopups} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar} />\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </CurrentUserContext.Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}